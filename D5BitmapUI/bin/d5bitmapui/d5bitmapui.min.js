var d5power;!function(t){var e=function(){function e(){this._resList=[]}var i=(__define,e);return p=i.prototype,e.setupResLib=function(i,s){e._resource=new egret.SpriteSheet(i);var h,n,r,o,a;for(var l in s){trace(l,s[l]),h=s[l];var d=new e;switch(a=[],h.type){case"D5MirrorBox":r=h.cut[0],n=new t.UVData,n.offX=h.x,n.offY=h.y,n.width=r.x,n.height=r.y,a.push(n),n=new t.UVData,n.offX=h.x+r.x,n.offY=h.y,n.width=h.w-r.x,n.height=r.y,a.push(n),n=new t.UVData,n.offX=h.x,n.offY=h.y+r.y,n.width=r.x,n.height=h.h-r.y,a.push(n),n=new t.UVData,n.offX=h.x+r.x,n.offY=h.y+r.y,n.width=h.w-r.x,n.height=h.h-r.y,a.push(n),d.setupResource(l,a);break;case"D5Window":r=h.cut[0],o=h.cut[1],n=new t.UVData,n.offX=h.x,n.offY=h.y,n.width=r.x,n.height=r.y,a.push(n),n=new t.UVData,n.offX=h.x+r.x,n.offY=h.y,n.width=o.x-r.x,n.height=r.y,a.push(n),n=new t.UVData,n.offX=h.x+o.x,n.offY=h.y,n.width=h.w-o.x,n.height=r.y,a.push(n),n=new t.UVData,n.offX=h.x,n.offY=h.y+r.y,n.width=r.x,n.height=o.y-r.y,a.push(n),n=new t.UVData,n.offX=h.x+r.x,n.offY=h.y+r.y,n.width=o.x-r.x,n.height=o.y-r.y,a.push(n),n=new t.UVData,n.offX=h.x+o.x,n.offY=h.y+r.y,n.width=h.w-o.x,n.height=o.y-r.y,a.push(n),n=new t.UVData,n.offX=h.x,n.offY=h.y+o.y,n.width=r.x,n.height=h.h-o.y,a.push(n),n=new t.UVData,n.offX=h.x+r.x,n.offY=h.y+o.y,n.width=o.x-r.x,n.height=h.h-o.y,a.push(n),n=new t.UVData,n.offX=h.x+o.x,n.offY=h.y+o.y,n.width=h.w-o.x,n.height=h.h-o.y,a.push(n),d.setupResource(l,a);break;case"D5Button":r=h.cut[1],0==r.x?(n=new t.UVData,n.offX=h.x,n.offY=h.y,n.width=h.w/4,n.height=h.h,a.push(n),n=new t.UVData,n.offX=h.x+h.w/4,n.offY=h.y,n.width=h.w/4,n.height=h.h,a.push(n),n=new t.UVData,n.offX=h.x+h.w/2,n.offY=h.y,n.width=h.w/4,n.height=h.h,a.push(n),n=new t.UVData,n.offX=h.x+h.w-h.w/4,n.offY=h.y,n.width=h.w/4,n.height=h.h,a.push(n),d.buttonType=4):(n=new t.UVData,n.offX=h.x,n.offY=h.y,n.width=h.w/2,n.height=h.h,a.push(n),n=new t.UVData,n.offX=h.x+h.w/2,n.offY=h.y,n.width=h.w/2,n.height=h.h,a.push(n),d.buttonType=2),d.setupResource(l,a);break;case"D5MirrorLoop":r=h.cut[0],0==r.y?(n=new t.UVData,n.offX=h.x,n.offY=h.y,n.width=r.x,n.height=h.h,a.push(n),n=new t.UVData,n.offX=h.x+r.x,n.offY=h.y,n.width=h.w-r.x,n.height=h.h,a.push(n),e._typeLoop=0):(n=new t.UVData,n.offX=h.x,n.offY=h.y,n.width=h.w,n.height=r.y,a.push(n),n=new t.UVData,n.offX=h.x,n.offY=h.y+r.y,n.width=h.w,n.height=h.h-r.y,a.push(n),e._typeLoop=1),d.setupResource(l,a);break;case"D5Bitmap":n=new t.UVData,n.offX=h.x,n.offY=h.y,n.width=h.w,n.height=h.h,a.push(n),d.setupResource(l,a);break;case"D5RadioBtn":n=new t.UVData,n.offX=h.x,n.offY=h.y,n.width=h.w/4,n.height=h.h,a.push(n),n=new t.UVData,n.offX=h.x+h.w/4,n.offY=h.y,n.width=h.w/4,n.height=h.h,a.push(n),n=new t.UVData,n.offX=h.x+h.w/2,n.offY=h.y,n.width=h.w/4,n.height=h.h,a.push(n),n=new t.UVData,n.offX=h.x+h.w-h.w/4,n.offY=h.y,n.width=h.w/4,n.height=h.h,a.push(n),d.setupResource(l,a);break;case"D5SliderButton":r=h.cut[0],n=new t.UVData,n.offX=h.x,n.offY=h.y,n.width=r.x,n.height=h.h/2,a.push(n),n=new t.UVData,n.offX=h.x+r.x,n.offY=h.y,n.width=h.w-r.x,n.height=h.h/2,a.push(n),n=new t.UVData,n.offX=h.x,n.offY=h.y+h.h/2,n.width=h.w/4,n.height=h.h/2,a.push(n),n=new t.UVData,n.offX=h.x+h.w/4,n.offY=h.y+h.h/2,n.width=h.w/4,n.height=h.h/2,a.push(n),n=new t.UVData,n.offX=h.x+h.w/2,n.offY=h.y+h.h/2,n.width=h.w/4,n.height=h.h/2,a.push(n),n=new t.UVData,n.offX=h.x+h.w-h.w/4,n.offY=h.y+h.h/2,n.width=h.w/4,n.height=h.h/2,a.push(n),d.setupResource(l,a);break;case"D5BitmapNumber":for(var u=0;10>u;u++)n=new t.UVData,n.offX=h.x+u*h.w/10,n.offY=h.y,n.width=h.w/10,n.height=h.h,a.push(n);d.setupResource(l,a)}e._resourceLib[l]=d}},e.getData=function(t){return e._resourceLib[t]},p.setupResource=function(t,i){this._name=t;for(var s=0,h=i.length;h>s;s++)e._resource.createTexture(t+s,i[s].offX,i[s].offY,i[s].width,i[s].height)},p.getResource=function(t){return e._resource.getTexture(this._name+t)},e._resourceLib={},e._typeLoop=0,e}();t.D5UIResourceData=e,egret.registerClass(e,"d5power.D5UIResourceData")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this),i.autoRelease&&this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.dispose,this)}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.setSkin=function(){},i.setproBindingSource=function(t){this._pro_binding_source=t},s(i,"proBindingSource",function(){return this._pro_binding_source}),p.setSize=function(t,e){this._w=t,this._h=e,this.invalidate()},s(p,"nowName",function(){return this._nowName}),s(p,"width",function(){return this._w}),s(p,"height",function(){return this._h}),i.getComponentByURL=function(t,e,i){void 0===i&&(i=null);var s,h=t,n=h.uiList,r=n.length;e._realWidth=parseInt(h.width),e._realHeight=parseInt(h.height),e._flyX=h.flyx,e._flyY=h.flyy;for(var o=0;r>o;o++)s=n[o],e.addChild(this.getCompoentByJson(s,e));i&&i.apply(e)},i.getCompoentByJson=function(e,i){var s;switch(e.Class){case"D5Window":s=new t.D5Window,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,s.setSize(e.width,e.height);for(var h,n=e.uiList,r=n.length,o=0;r>o;o++)h=n[o],s.addChild(this.getCompoentByJson(h,i));i&&(i[s.name]=s);break;case"D5MirrorBox":s=new t.D5MirrorBox,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,s.setSize(e.width,e.height);for(var h,n=e.uiList,r=n.length,o=0;r>o;o++)h=n[o],s.addChild(this.getCompoentByJson(h,i));i&&(i[s.name]=s);break;case"D5Button":s=new t.D5Button,s.name=e.name,s.setSkin(e.skinId),s.setSound(e.soundDown),s.x=e.x,s.y=e.y,s.setIcon(e.icon);var a=e.listener;e.lable&&""!=e.lable&&s.setLable(e.lable),""!=a&&"null"!=a&&null!=a&&null!=i&&s.setCallback(i[a]),i&&(i[s.name]=s);break;case"D5MirrorLoop":s=new t.D5MirrorLoop,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,s.setSize(e.width,e.height),i&&(i[s.name]=s);break;case"D5Bitmap":s=new t.D5Bitmap,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,i&&(i[s.name]=s);break;case"D5RadioBtn":s=new t.D5RadioBtn,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,e.lable&&""!=e.lable&&s.setLable(e.lable),i&&(i[s.name]=s);break;case"D5FlyBox":s=new t.D5FlyBox,s.name=e.name,s.x=e.x,s.y=e.y,s.setMaxWidth(e.maxWidth),i&&(i[s.name]=s);break;case"D5HBox":s=new t.D5HBox,s.name=e.name,s.x=e.x,s.y=e.y,i&&(i[s.name]=s);break;case"D5VBox":s=new t.D5VBox,s.name=e.name,s.x=e.x,s.y=e.y,i&&(i[s.name]=s);break;case"D5Text":s=new t.D5Text(e.textValue,e.fontColor,-1,e.filterColor,e.fontSize),s.name=e.name,s.x=e.x,s.y=e.y,s.setSize(e.width,e.height),s.setType(e.type),s.setTextAlign(e.alignType),s.setFontBold(e.bold),s.setBgColor(e.bgColor),s.setLtBorder(e.ltColor),s.setRbBorder(e.rbColor),s.setWrapFlg(e.wrapType),s.setIsPassword(e.password),s.setTextID(e.textID.toString()),s._binding=e.binding,i&&(i[s.name]=s),i&&i&&""!=s._binding&&i.addBinder(s);break;case"D5ImageBox":s=new t.D5ImageBox,s.name=e.name,s.x=e.x,s.y=e.y,s.setSize(e.width,e.height),s.showNum(e.shownum),s.setLogo(e.bg.toString()),i&&(i[s.name]=s);break;case"D5ButtonGroup":s=new t.D5ButtonGroup,s.name=e.name,s.x=e.x,s.y=e.y;for(var h,n=e.uiList,r=n.length,o=0;r>o;o++)h=n[o],s.addChild(this.getCompoentByJson(h,i));i&&(i[s.name]=s);break;case"D5Swf":s=new t.D5Swf,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,s.setSrc(e.src),i&&(i[s.name]=s);break;case"D5BitmapNumber":s=new t.D5BitmapNumber,s.name=e.name,s.setSkin(e.skinId),s.x=e.x,s.y=e.y,s.setAlign(e.align),s.setValue(1),i&&(i[s.name]=s);break;case"D5Shape":s=new t.D5Shape,s.name=e.name,s.x=e.x,s.y=e.y,s.setWorkMode(e.workMode),s.setFillColor(e.fillColor),s.setTickNess(e.tickNess),s.setColor(e.color),s.setOffX(e.offX),s.setOffY(e.offY),s.setDrawWidth(e.drawWidth),s.setDrawHeight(e.drawHeight),s.setRadius(e.radius),i&&(i[s.name]=s)}return s},p.dispose=function(){},p.invalidate=function(){this.addEventListener(egret.Event.ENTER_FRAME,this.onInvalidate,this)},p.onInvalidate=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.onInvalidate,this),this.draw()},p.draw=function(){this.invalidateSize(),this.dispatchEvent(new egret.Event(egret.Event.RESIZE))},p.invalidateSize=function(){},p.autoCache=function(){this.cacheAsBitmap=!1,this.addEventListener(egret.Event.ENTER_FRAME,this.onAutoCache,this)},p.onAutoCache=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.onAutoCache,this),this.cacheAsBitmap=!0},i.autoRelease=!0,i}(egret.Sprite);t.D5Component=e,egret.registerClass(e,"d5power.D5Component")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this)}__extends(i,e);var s=(__define,i);return p=s.prototype,p.setSkin=function(e){if(this._nowName!=e){this._nowName=e;var i=t.D5UIResourceData.getData(e);if(null==i){trace("[D5Bitmap]No Resource"+e);var s=RES.getRes(e);return void(s?(this.bit=new egret.Bitmap,this.bit.texture=s,this.invalidate()):this.setSrc(e))}null==this.bit&&(this.bit=new egret.Bitmap),this.bit.texture=i.getResource(0),this.invalidate()}},p.setSrc=function(t){this._url=t,this.changeParticle()},p.changeParticle=function(){RES.getResByUrl(this._url,this.onComplete,this)},p.onComplete=function(t){return null==this.bit&&(this.bit=new egret.Bitmap),this.bit.texture=t,this.addChild(this.bit),null==t?void trace(this.name,"resource hot found =============="):void this.setSize(this.bit.$getWidth(),this.bit.$getHeight())},p.draw=function(){null==this.bit||this.contains(this.bit)||this.addChildAt(this.bit,0),e.prototype.draw.call(this)},i}(t.D5Component);t.D5Bitmap=e,egret.registerClass(e,"d5power.D5Bitmap")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this),this._align=0,this._box=new t.D5HBox,this._numic={},this.addChild(this._box)}__extends(i,e);var s=(__define,i);return p=s.prototype,p.setAlign=function(t){this._align=t},p.setSkin=function(e){return this._nowName!=e?(this._nowName=e,this.data=t.D5UIResourceData.getData(e),null==this.data?void trace("[D5Button]No Resource"+e):void 0):void 0},p.setValue=function(t){var e,i,s=t+"",h=s.length;this._box.removeChildren();for(var n=0;h>n;n++)i=s.substr(n,1),e=this._numic[i],e||(e=new egret.Bitmap,this._numic[i]=e),e.texture=this.data.getResource(parseInt(i)),this._box.addChild(e);this.invalidate()},p.setPadding=function(t){this._box.setPadding(t),this.invalidate()},p.draw=function(){switch(this._align){case t.D5Text.CENTER:this._box.x=-this._box.width>>1;break;case t.D5Text.RIGHT:this._box.x=-this._box.width}e.prototype.draw.call(this)},i}(t.D5Component);t.D5BitmapNumber=e,egret.registerClass(e,"d5power.D5BitmapNumber")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this),this._iconAutoFly=!1}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.showIcon=function(t){this._icon&&(this._icon.visible=t)},s(p,"iconDisplay",function(){return null==this._icon?!1:this._icon.visible}),p.setIcon=function(e,i,s){void 0===i&&(i=0),void 0===s&&(s=0),""!=e&&(this._icon||(this._icon=new t.D5Bitmap),this._icon.setSkin(e),this._icon.x=i,this._icon.y=s,0==this._icon.x&&0==this._icon.y&&(this._iconAutoFly=!0),0!=this.width&&this.flyIcon())},p.flyIcon=function(){this._icon&&(this.contains(this._icon)?this.setChildIndex(this._icon,this.numChildren-1):this.addChild(this._icon),this._lable&&this.contains(this._lable)&&this.contains(this._icon)&&this._iconAutoFly?(this._icon.x=this.a.width-this._icon.width-this._lable.width>>1,this._lable.x=this._icon.x+this._icon.height):(0==this._icon.x&&(this._icon.x=this.width-this._icon.width>>1),0==this._icon.y&&(this._icon.y=this.height-this._icon.height>>1)))},p.setLable=function(e){null==this._lable&&(this._lable=new t.D5Text,this._lable.setFontSize(t.D5Style.default_btn_lable_size),this._lable.setFontBold(t.D5Style.default_btn_lable_bold),-1!=t.D5Style.default_btn_lable_border&&this._lable.setFontBorder(t.D5Style.default_btn_lable_border),this.addChild(this._lable)),this._lable.setText(e),this._lable.setWidth(e.length*t.D5Style.default_btn_lable_size),this._lable.setHeight(t.D5Style.default_btn_lable_size)},p.autoLableSize=function(){null!=this._lable&&null!=this.a&&(this._lable.x=Math.abs(this.a.width-this._lable.width)/2,this._lable.y=Math.abs(this.a.height-this._lable.height)/2)},p.enabled=function(t){this.touchEnabled=t,this.a.texture=this.data.getResource(t?0:2==this.data.buttonType?0:3),this.invalidate()},p.setSkin=function(e){if(this._nowName!=e){if(this._nowName=e,this.data=t.D5UIResourceData.getData(e),null==this.data)return void trace("[D5Button]No Resource"+e);null==this.a&&(this.a=new egret.Bitmap),this.a.texture=this.data.getResource(0),this.touchEnabled=!0,this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnDown,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.btnUp,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.btnClick,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.btnOutSide,this),this.invalidate()}},p.setSound=function(t){t=t.replace("resource/",""),this.sound=t},p.btnDown=function(){this.a.texture=this.data.getResource(2==this.data.buttonType?1:2),this.invalidate()},p.btnUp=function(){this.a.texture=this.data.getResource(0),this.invalidate()},p.btnOutSide=function(){this.a.texture=this.data.getResource(0),this.invalidate()},p.btnClick=function(t){var e=RES.getRes(this.sound);e&&e.play(),null!=this._callback2&&this.enabled&&this._callback2(t),this.invalidate()},p.draw=function(){null==this.a||this.contains(this.a)||this.addChildAt(this.a,0),e.prototype.draw.call(this),null!=this._lable&&(this.addChild(this._lable),this.autoLableSize())},p.setCallback=function(t){this._callback2=t},i}(t.D5Component);t.D5Button=e,egret.registerClass(e,"d5power.D5Button")}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(){t.call(this),this._color=0,this.setSize(60,60)}__extends(e,t);var i=__define,s=e;return p=s.prototype,p.setColor=function(t){this._color=t},p.setAlpha=function(t){this.alpha=t},i(p,"cding",function(){return this._cding}),p.setSize=function(e,i){t.prototype.setSize.call(this,e,i),this._progressMax=2*(e+i),this._startX=e>>1,this._startY=i>>1,this._drawPath=[[e>>1,0,0],[e,0,e>>1],[e,i,(e>>1)+i],[0,i,(e>>1)+i+e],[0,0,(e>>1)+i+i+e],[e>>1,0,2*(e+i)]]},p.startCD=function(t){this._cd=1e3*t,this._cding=!0,this._startTime=egret.getTimer(),this._progressLen=0,this._renderSpeed=2>t?20:6>t?40:10>t?100:30>t?150:120>t?200:800,this.graphics.clear(),this.graphics.beginFill(this._color,this.alpha),this.graphics.drawRect(0,0,this.width,this.height),this.addEventListener(egret.Event.ENTER_FRAME,this.render,this)},p.render=function(t){void 0===t&&(t=null);var e=egret.getTimer(),i=e-this._lastRender;if(!(i<this._renderSpeed)){if(i=e-this._startTime,i>=this._cd)return this.removeEventListener(egret.Event.ENTER_FRAME,this.render,this),this._cding=!1,this.graphics.clear(),void trace("Ended");this._progressLen=this._progressMax*(i/this._cd),this.graphics.clear(),this.graphics.beginFill(this._color,this.alpha),this.graphics.moveTo(this._startX,this._startY);for(var s=-1,h=-1,n=0;6>n;n++)if(!(4>n&&this._progressLen>this._drawPath[n+1][2]))if(-1==s){switch(n){case 0:s=this._drawPath[n][0]+this._progressLen,h=this._drawPath[n][1];break;case 1:s=this._drawPath[n][0],h=this._drawPath[n][1]+this._progressLen-this._drawPath[n][2];break;case 2:s=this._drawPath[n][0]-this._progressLen+this._drawPath[n][2],h=this._drawPath[n][1];break;case 3:s=this._drawPath[n][0],h=this._drawPath[n][1]-this._progressLen+this._drawPath[n][2];break;case 4:s=this._drawPath[n][0]+this._progressLen-this._drawPath[n][2],h=this._drawPath[n][1]}this.graphics.lineTo(s,h)}else this.graphics.lineTo(this._drawPath[n][0],this._drawPath[n][1]);this.graphics.lineTo(this._startX,this._startY),this.graphics.endFill(),this._lastRender=e}},e}(t.D5Component);t.D5CDdisplayer=e,egret.registerClass(e,"d5power.D5CDdisplayer")}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(){t.call(this),this._maxWidth=0,this._usedWidth=0,this._usedHeight=0,this._paddingx=5,this._paddingy=5,this._align=0,this._zerox=0}__extends(e,t);var i=__define,s=e;return p=s.prototype,p.setMode=function(t){this._align=t,this.redraw()},p.setX=function(){this._zerox=this.x},p.setPaddingx=function(t){void 0===t&&(t=0),this._paddingx=t,this.redraw()},p.setPaddingy=function(t){void 0===t&&(t=0),this._paddingy=t,this.redraw()},p.getPaddingx=function(){return this._paddingx},p.getPaddingy=function(){return this._paddingy},p.setMaxWidth=function(t){void 0===t&&(t=0),this._maxWidth=t,this.redraw()},i(p,"maxWidth",function(){return this._maxWidth}),i(p,"$maxWidth",function(){return this._maxWidth}),p.parseToXML=function(){var t="<D5FlyBox name='"+this.name+"' x='"+this.x+"' y='"+this.y+"' maxWidth='"+this._maxWidth+"'/>\n";return t},p.setEditorMode=function(){null==this._editorBG&&(this._editorBG=new egret.Shape,this.addChild(this._editorBG),this.updateEditorBG())},p.addChild=function(e){var i=t.prototype.addChild.call(this,e);return i.addEventListener(egret.Event.RESIZE,this.redraw,this),this.redraw(),i},p.removeChild=function(e){var i=t.prototype.removeChild.call(this,e);return i.removeEventListener(egret.Event.RESIZE,this.redraw,this),this.redraw(),i},p.redraw=function(t){void 0===t&&(t=null),this._usedWidth=0,this._usedHeight=0;for(var e,i=0,s=0,h=this.numChildren;h>s;s++)e=this.getChildAt(s),this._usedWidth+this._paddingx+e.width>this._maxWidth&&(this._usedHeight+=i+this._paddingy,i=0,this._usedWidth=0),e.x=this._usedWidth,e.y=this._usedHeight,i=i<e.height?e.height:i,this._usedWidth+=e.width+this._paddingx;this.setSize(this._maxWidth,this._usedHeight+i),null!=this._editorBG&&this.updateEditorBG(),this.dispatchEvent(new egret.Event(egret.Event.RESIZE))},p.updateEditorBG=function(){this._editorBG.graphics.clear(),this._editorBG.graphics.lineStyle(1,0),this._editorBG.graphics.beginFill(16777215,.5),this._editorBG.graphics.drawRect(0,0,this._maxWidth,this._usedHeight<20?20:this._usedHeight),this._editorBG.graphics.endFill()},e.LEFT=0,e.CENTER=1,e}(t.D5Component);t.D5FlyBox=e,egret.registerClass(e,"d5power.D5FlyBox")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(t){void 0===t&&(t=0),e.call(this),this._itemNum=0,this._bgShapeFlg=0,this._w=t,this._hasDefaultSelected=!0,this.items=[],this.addEventListener(egret.TouchEvent.TOUCH_TAP,this._onItemClick,this)}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.unsetup=function(t){void 0===t&&(t=null),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this._onItemClick,this);for(var e=this.items.length,i=0;e>i;i++){var s=this.items[i];s.parent&&s.parent.removeChild(s),s=null}},p.setItemNum=function(t){void 0===t&&(t=0),this._itemNum=t},s(p,"itemNum",function(){return this.items.length}),s(p,"hasDefaultSelected",function(){return this._hasDefaultSelected}),p.setHasDefaultSelected=function(t){this._hasDefaultSelected=t},p.addItem=function(t){return null==t?void trace("[D5ButtonGroup] 按钮组只能添加按钮对象"):(this.addChild(t),void(-1==this.items.indexOf(t)&&this.items.push(t)))},p.addChild=function(i){return i instanceof t.D5Button?(-1==this.items.indexOf(i)&&this.items.push(i),e.prototype.addChild.call(this,i)):(trace("[D5ButtonGroup] 按钮组只能添加按钮对象"),null)},p.removeItem=function(t){this.removeChild(t),t.hasEventListener(egret.TouchEvent.TOUCH_TAP)&&t.removeEventListener(egret.TouchEvent.TOUCH_TAP,this._onItemClick,this)},p._onItemClick=function(t){var e=t.target;e!=this._lastSelectedItem&&(this._lastSelectedItem=e,this.dispatchEvent(new egret.Event(egret.Event.CHANGE)))},p.getSelectedID=function(){return this.items.indexOf(this._lastSelectedItem)},p.setEditorMode=function(){this.createBgShape()},p.createBgShape=function(t,e){void 0===t&&(t=500),void 0===e&&(e=60),this.graphics.beginFill(4079166),this.graphics.drawRect(0,0,t,e),this.graphics.endFill(),this._bgShapeFlg=1},p.clearVirtualBackground=function(){this.graphics.clear(),this._bgShapeFlg=0},s(p,"bgShapeFlg",function(){return this._bgShapeFlg},function(t){this._bgShapeFlg=t}),i}(t.D5FlyBox);t.D5ButtonGroup=e,egret.registerClass(e,"d5power.D5ButtonGroup")}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(){t.call(this),this._padding=5,this.autoFly=!0}__extends(e,t);var i=__define,s=e;return p=s.prototype,p.setEditorMode=function(){null==this._editorBG&&(this._editorBG=new egret.Shape,this._editorBG.graphics.clear(),this._editorBG.graphics.lineStyle(1,0),this._editorBG.graphics.beginFill(16750848,.5),this._editorBG.graphics.drawRect(0,0,60,20),this._editorBG.graphics.endFill(),this.addChild(this._editorBG))},p.parseToXML=function(){var t="<D5HBox name='"+this.name+"' x='"+this.x+"' y='"+this.y+"'/>\n";return t},p.addChildAt=function(e,i){return void 0===i&&(i=0),t.prototype.addChildAt.call(this,e,i),e.addEventListener(egret.Event.RESIZE,this.onResize,this),this.invalidate(),e},p.addChild=function(e){return t.prototype.addChild.call(this,e),e.addEventListener(egret.Event.RESIZE,this.onResize,this),this.autoFly&&this.invalidate(),e},p.removeChild=function(e){return t.prototype.removeChild.call(this,e),e.removeEventListener(egret.Event.RESIZE,this.onResize,this),this.autoFly&&this.invalidate(),e},p.removeChildAt=function(e){void 0===e&&(e=0);var i=t.prototype.removeChildAt.call(this,e);return i.removeEventListener(egret.Event.RESIZE,this.onResize,this),this.autoFly&&this.invalidate(),i},p.onResize=function(){this.autoFly&&this.invalidate()},p.draw=function(){this._w=0,this._h=0;for(var t=0,e=0;e<this.numChildren;e++){var i=this.getChildAt(e);i.x=t,t+=i.width,t+=this._padding,this._w+=i.width,this._h=Math.max(this._h,i.height)}this._w+=this._padding*(this.numChildren-1),this.dispatchEvent(new egret.Event(egret.Event.RESIZE))},p.setPadding=function(t){this._padding=t,this.invalidate()},i(p,"padding",function(){return this._padding}),e}(t.D5Component);t.D5HBox=e,egret.registerClass(e,"d5power.D5HBox")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this),this._blockW=0,this._blockH=0,this._textColor=0,this._hoverColor=0,this._fontSize=0,this.setupListener()}__extends(i,e);var s=__define,h=i;return p=h.prototype,s(p,"className",function(){return"D5List"}),p.drawBackground=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=0),this.graphics.beginFill(t),this.graphics.lineStyle(1,i),this.graphics.drawRect(0,0,this._blockW,this.height),this.graphics.endFill()},p.setFormat=function(t,e,i,s,h,n){void 0===h&&(h=1),void 0===n&&(n=12),this._blockW=t,this._blockH=e,this._textColor=i,this._hoverColor=s,this._hoverAlpha=h,this._fontSize=n,this.flushFormat()},p.setblockW=function(t){void 0===t&&(t=0),this._blockW=t,this.flushFormat()},p.unsetup=function(t){void 0===t&&(t=null),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAdd,this)},p.addStuff=function(e,i){var s;e instanceof egret.DisplayObjectContainer?(s=e,s.name=i.toString()):("string"!=typeof e&&(e=e.toString()),s=new t.D5HoverText(e,16777215),this._blockW>0?(s.setTextColor(this._textColor),s.width=this._blockW,s.height=this._blockH,s.setFontSize(this._fontSize),s.graphics.beginFill(16711680),s.graphics.drawRect(0,0,this.width,20),s.setHover(this._hoverColor,this._hoverAlpha)):s.setHover(this._hoverColor,this._hoverAlpha),s.setData(i),s.autoGrow()),this._list.push(s),this._content.addChild(s)},p.removeStuffByIndex=function(t){if(void 0===t&&(t=0),!(t>=this._list.length)){var e=this._list[t];this._content.contains(e)&&this._content.removeChild(e),this._list.splice(t,1)}},p.removeAllStuff=function(){for(;this._list.length;)this.removeStuffByIndex(0);this._selected=null},s(p,"height",function(){var t=this._content.padding;return this._list.length>0?this._list.length*(this._list[0].height+t)-t:0}),s(p,"value",function(){return null==this._selected?null:this._selected instanceof t.D5HoverText?this._selected.data:this._selected.name}),s(p,"lable",function(){return null==this._selected?"":this._selected instanceof t.D5HoverText?this._selected.text:this._selected.toString()}),s(p,"index",function(){return this._list.indexOf(this._selected)}),p.setupListener=function(){this._list=[],this._content=new t.D5VBox,this.addChild(this._content),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onMove,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},p.onMove=function(e){var i=this.getUnderMouse(e.stageX,e.stageY);null!=i&&i instanceof t.D5HoverText&&(i.isHover||i==this._selected||(this._selected&&this._selected instanceof t.D5HoverText&&this._selected.unhover(),i.hover(),this._selected=i))},p.onClick=function(t){var e=this.getUnderMouse(t.stageX,t.stageY);e&&(this._selected=e,this.dispatchEvent(new egret.Event(egret.Event.CHANGE)))},p.onAdd=function(){this._stage=this.stage},p.onStageClick=function(t){if(this.parent&&this.stage){if(t.target==this)return;this.parent.removeChild(this),this.stage&&this.stage.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onStageClick,this)}},p.getUnderMouse=function(t,e){void 0===e&&(e=0);for(var i=this._list.length,s=0;i>s;s++){var h=this._list[s];if(h.hitTestPoint(t,e))return h}return null},p.flushFormat=function(){for(var t=this._list.length,e=0;t>e;e++){var i=this._list[e];i.setTextColor(this._textColor),i.width=this._blockW,i.height=0==this._blockH?20:this._blockH,i.setHover(this._hoverColor,this._hoverAlpha)}},i}(t.D5Component);t.D5List=e,egret.registerClass(e,"d5power.D5List")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this)}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.setSkin=function(e){if(this._nowName!=e){this._nowName=e;var i=t.D5UIResourceData.getData(e);if(null==i)return void trace("[D5MirrorBox]No Resource"+e);null==this.lt&&(this.lt=new egret.Bitmap),this.lt.texture=i.getResource(0),null==this.t&&(this.t=new egret.Bitmap),this.t.texture=i.getResource(1),this.t.fillMode=egret.BitmapFillMode.REPEAT,null==this.rt&&(this.rt=new egret.Bitmap),this.rt.texture=i.getResource(0),this.rt.scaleX=-1,null==this.l&&(this.l=new egret.Bitmap),this.l.texture=i.getResource(2),this.l.fillMode=egret.BitmapFillMode.REPEAT,null==this.m&&(this.m=new egret.Bitmap),this.m.texture=i.getResource(3),this.m.fillMode=egret.BitmapFillMode.REPEAT,null==this.r&&(this.r=new egret.Bitmap),this.r.texture=i.getResource(2),this.r.scaleX=-1,this.r.fillMode=egret.BitmapFillMode.REPEAT,null==this.lb&&(this.lb=new egret.Bitmap),this.lb.texture=i.getResource(0),this.lb.scaleY=-1,null==this.b&&(this.b=new egret.Bitmap),this.b.texture=i.getResource(1),this.b.scaleY=-1,this.b.fillMode=egret.BitmapFillMode.REPEAT,null==this.rb&&(this.rb=new egret.Bitmap),this.rb.texture=i.getResource(0),this.rb.scaleX=this.rb.scaleY=-1,this.rb.fillMode=egret.BitmapFillMode.REPEAT,this.invalidate()}},p.draw=function(){null==this.l||(this.contains(this.l)||(this.addChildAt(this.lt,0),this.addChildAt(this.t,0),this.addChildAt(this.rt,0),this.addChildAt(this.l,0),this.addChildAt(this.m,0),this.addChildAt(this.r,0),this.addChildAt(this.lb,0),this.addChildAt(this.b,0),this.addChildAt(this.rb,0)),this.t.x=this.m.x=this.b.x=this.lt.width,this.rt.x=this.r.x=this.rb.x=this._w,this.l.y=this.m.y=this.r.y=this.lt.height,this.lb.y=this.b.y=this.rb.y=this._h,this.m.width=this.t.width=this.b.width=this._w-2*this.lt.width,this.m.height=this.l.height=this.r.height=this._h-2*this.lt.height),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE)),e.prototype.draw.call(this)},s(p,"mBitmap",function(){return this.m}),i}(t.D5Component);t.D5MirrorBox=e,egret.registerClass(e,"d5power.D5MirrorBox")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this),this._showNum=!1}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.addParticle=function(){RES.getResByUrl(this._url,this.onGroupComplete,this)},p.onGroupComplete=function(t){null==this._logo&&(this._logo=new egret.Bitmap),this._logo.texture=t,this.addChildAt(this._logo,0),this._logo.scaleX=this._w/this._logo.width,this._logo.scaleY=this._h/this._logo.height,this._logo.fillMode=egret.BitmapFillMode.REPEAT,this._logo.x=0,this._logo.y=0},p.setLogo=function(t){null==this.spr&&(this.spr=new egret.Sprite,this.addChild(this.spr));for(var e=0;e<this.spr.numChildren;e++){var i=this.spr.getChildAt(e);i.parent&&i.parent.removeChild(i),i=null}""!=t&&(this._url=t,this.addParticle())},p.removeLogo=function(){this._logo&&this.contains(this._logo)&&this.removeChild(this._logo)},p.over=function(){this.addParticle()},s(p,"url",void 0,function(t){this._url=t}),p.showNum=function(t){this._showNum=t,!this._showNum&&null!=this.numShower&&this.contains(this.numShower)?(this.removeChild(this.numShower),this.numShower=null):this._showNum&&null==this.numShower&&this.buildNumShower()},p.buildNumShower=function(){null==this.numShower&&(this.numShower=new t.D5Text("0",13945973),this.numShower.setFontBorder(0),this.numShower.setTextAlign(t.D5Text.RIGHT),this.numShower.setSize(20,18)),this.numShower.x=this._w-this.numShower.width,this.numShower.y=this._h-this.numShower.height,this.addChild(this.numShower)},p.setNum=function(t){this._itemNum=t,null!=this.numShower&&this.numShower.setText(t.toString())},s(p,"num",function(){return this._itemNum}),s(p,"id",function(){return this._id}),p.setId=function(t){this._id=t},i._resourceLib={},i}(t.D5MirrorBox);t.D5ImageBox=e,egret.registerClass(e,"d5power.D5ImageBox")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this)}__extends(i,e);var s=(__define,i);return p=s.prototype,p.setSkin=function(e){if(this._nowName!=e){this._nowName=e;var i=t.D5UIResourceData.getData(e);if(null==i)return void trace("[D5MirrorLoop]No Resource"+e);0==t.D5UIResourceData._typeLoop?(null==this.front&&(this.front=new egret.Bitmap),this.front.texture=i.getResource(0),null==this.enter&&(this.enter=new egret.Bitmap),this.enter.texture=i.getResource(1),this.enter.fillMode=egret.BitmapFillMode.REPEAT,null==this.after&&(this.after=new egret.Bitmap),this.after.texture=i.getResource(0),this.after.scaleX=-1):(null==this.front&&(this.front=new egret.Bitmap),this.front.texture=i.getResource(0),null==this.enter&&(this.enter=new egret.Bitmap),this.enter.texture=i.getResource(1),this.enter.fillMode=egret.BitmapFillMode.REPEAT,null==this.after&&(this.after=new egret.Bitmap),this.after.texture=i.getResource(0),this.after.scaleY=-1),this.invalidate()}},p.draw=function(){null==this.front||this.contains(this.front)||(this.addChildAt(this.front,0),this.addChildAt(this.enter,0),this.addChildAt(this.after,0)),0==t.D5UIResourceData._typeLoop?(this.enter.x=this.front.width,this.enter.width=this._w-2*this.front.width,this.after.x=this._w):(this.enter.y=this.front.height,this.enter.height=this._h-2*this.front.height,this.after.y=this._h),e.prototype.draw.call(this)},i}(t.D5Component);t.D5MirrorLoop=e,egret.registerClass(e,"d5power.D5MirrorLoop")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this),this._selected=!1}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.setLable=function(e){null==this._lable&&(this._lable=new t.D5Text,this._lable.setFontSize(t.D5Style.default_btn_lable_size),this._lable.setFontBold(t.D5Style.default_btn_lable_bold),-1!=t.D5Style.default_btn_lable_border&&this._lable.setFontBorder(t.D5Style.default_btn_lable_border),this.addChild(this._lable)),this._lable.setText(e)},p.autoLableSize=function(){null!=this._lable&&null!=this.a&&(trace(this.a.height,this._lable.height,"左左右右"),this._lable.x=this.a.width,this._lable.y=this.a.height-this._lable.height>>1)},p.setSelected=function(t){this._selected=t,this.updateFace()},s(p,"selected",function(){return this._selected}),p.updateFace=function(){this._selected?(this.a.texture=this.data.getResource(2),this.invalidate()):(this.a.texture=this.data.getResource(0),this.invalidate())},p.enabled=function(t){this.a.texture=this.data.getResource(t?0:3),this.invalidate()},p.setSkin=function(e){if(this._nowName!=e){if(this._nowName=e,this.data=t.D5UIResourceData.getData(e),null==this.data)return void trace("[D5RadioBtn]No Resource"+e);
this.a=new egret.Bitmap,this.a.texture=this.data.getResource(0),this.touchEnabled=!0,this.enabled(!0),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnDown,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.btnUp,this),this.invalidate()}},p.btnDown=function(){this.a.texture=this.data.getResource(2),this.invalidate()},p.btnUp=function(){this.setSelected(!this._selected)},p.draw=function(){null==this.a||this.contains(this.a)||this.addChildAt(this.a,0),e.prototype.draw.call(this),null!=this._lable&&(this.addChild(this._lable),this.autoLableSize())},i}(t.D5Component);t.D5RadioBtn=e,egret.registerClass(e,"d5power.D5RadioBtn")}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(){t.call(this),this._workMode=0,this._tickNess=0,this._offX=0,this._offY=0,this._drawWidth=0,this._drawHeight=0,this._radius=0,this._shape=new egret.Shape,this.addChild(this._shape)}__extends(e,t);var i=__define,s=e;return p=s.prototype,p.draw=function(){switch(this._shape&&this._shape.graphics.clear(),this._workMode){case e.RECT:this._shape.graphics.beginFill(this._fillColor),this._tickNess>0&&this._shape.graphics.lineStyle(this._tickNess,this._color),this._shape.graphics.drawRect(this._offX,this._offY,this._drawWidth,this._drawHeight),this._shape.graphics.endFill();break;case e.CIRCLE:this._shape.graphics.beginFill(this._fillColor),this._tickNess>0&&this._shape.graphics.lineStyle(this._tickNess,this._color),this._shape.graphics.drawCircle(this._offX,this._offY,this._radius),this._shape.graphics.endFill()}t.prototype.draw.call(this)},i(p,"fillColor",function(){return this._fillColor}),p.setFillColor=function(t){this._fillColor!=t&&(this._fillColor=t,this.invalidate())},i(p,"tickNess",function(){return this._tickNess}),p.setTickNess=function(t){this._tickNess!=t&&(this._tickNess=t,this.invalidate())},i(p,"color",function(){return this._color}),p.setColor=function(t){this._color!=t&&(this._color=t,this.invalidate())},i(p,"offX",function(){return this._offX}),p.setOffX=function(t){this._offX!=t&&(this._offX=t,this.invalidate())},i(p,"offY",function(){return this._offY}),p.setOffY=function(t){this._offY!=t&&(this._offY=t,this.invalidate())},i(p,"drawWidth",function(){return this._drawWidth}),p.setDrawWidth=function(t){this._drawWidth!=t&&(this._drawWidth=t,this.invalidate())},i(p,"drawHeight",function(){return this._drawHeight}),p.setDrawHeight=function(t){this._drawHeight!=t&&(this._drawHeight=t,this.invalidate())},i(p,"radius",function(){return this._radius}),p.setRadius=function(t){this._radius!=t&&(this._radius=t,this.invalidate())},i(p,"workMode",function(){return this._workMode}),p.setWorkMode=function(t){this._workMode!=t&&(this._workMode=t,this.invalidate())},e.RECT=0,e.CIRCLE=1,e}(t.D5Component);t.D5Shape=e,egret.registerClass(e,"d5power.D5Shape")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this),this._arrCell=[],this._dataArr=[]}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.setDataName=function(t){this._dataArr=t},s(p,"dataName",function(){return this._dataArr}),p.setSkin=function(e){if(this._nowName!=e){if(this._nowName=e,this.data=t.D5UIResourceData.getData(e),null==this.data)return void trace("No Resource");this.front=new egret.Bitmap,this.front.texture=this.data.getResource(0),this.enter=new egret.Bitmap,this.enter.texture=this.data.getResource(1),this.enter.fillMode=egret.BitmapFillMode.REPEAT,this.after=new egret.Bitmap,this.after.texture=this.data.getResource(0),this.after.scaleX=-1,this.button=new egret.Bitmap,this.button.texture=this.data.getResource(2),this.touchEnabled=this.button.touchEnabled=!0,this.button.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnDown,this),this.button.addEventListener(egret.TouchEvent.TOUCH_END,this.btnUp,this),this.invalidate()}},p.setTable=function(e){null==this.text?(this.text=new t.D5Text,this.text.setWidth(this._w-this.button.width),this.text.setTextColor(16711680),this.text.setText(e)):(this.text.setTextColor(16711680),this.text.setText(e))},p.btnDown=function(){this.button.texture=this.data.getResource(4),this.invalidate(),null==this.box?(this.box=new t.D5MirrorBox,this.box.setSkin("box0"),this.box.x=0,this.box.y=this.button.height,this.box.setSize(this._w,100),this.addChild(this.box),this.vBox=new t.D5VBox,this.vBox.x=5,this.vBox.y=10):this.box.visible=!this.box.visible,this.box.visible&&this.showList(this._dataArr)},p.showList=function(e){this.cleanCell();for(var i=0;i<e.length;i++)this.cell=new t.ListCell,this.cell.showCell(this._w,e[i]),this._arrCell.push(this.cell),this.vBox.addChild(this.cell),this.cell.setBtnID(i),this.cell.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.changeName,this);this.box.setSize(this._w,25*this._dataArr.length)},p.changeName=function(t){this.box.visible=!this.box.visible;var e=t.currentTarget.btnID;this.setTable(this._dataArr[e])},p.cleanCell=function(){if(null!=this._arrCell&&0!=this._arrCell.length){for(var t=0;t<this._arrCell.length;t++){var e=this._arrCell[t];e.dispose(),e.parent&&e.parent.removeChild(e),e=null}this._arrCell.splice(0,this._arrCell.length)}},p.btnUp=function(){this.button.texture=this.data.getResource(2),this.invalidate()},p.draw=function(){null==this.front||this.contains(this.front)||(this.addChild(this.front),this.addChild(this.enter),this.addChild(this.after),this.addChild(this.button)),this.enter.x=this.front.width,this.enter.width=this._w-2*this.front.width,this.after.x=this._w-this.front.width,this.button.x=this._w-this.button.width,e.prototype.draw.call(this),this.addChild(this.text),this.box.addChild(this.vBox)},i}(t.D5Component);t.D5SliderButton=e,egret.registerClass(e,"d5power.D5SliderButton")}(d5power||(d5power={}));var d5power;!function(t){var e=function(){function t(){}var e=(__define,t);return p=e.prototype,t.default_lable_color=16777215,t.default_btn_lable_border=-1,t.default_btn_lable_size=18,t.default_btn_lable_bold=!1,t.autoRelease=!1,t}();t.D5Style=e,egret.registerClass(e,"d5power.D5Style")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this),this._loadID=0,this._playFrame=0,this._monitor=new egret.Bitmap,this._zoom=1}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.setSrc=function(t){this._src=t,this.addParticle()},s(p,"loadID",function(){return this._loadID}),p.setEditorMode=function(){this._drager||(this._drager=new egret.Shape,this._drager.graphics.beginFill(16777215*Math.random(),.5),this._drager.graphics.drawRect(-20,-20,40,40),this._drager.graphics.endFill()),this.addChild(this._drager)},p.addParticle=function(){this._loadID++,t.D5SpriteSheet.getInstance(this._src+".png",this)},p.onSpriteSheepReady=function(t){this._spriteSheet&&this._spriteSheet.unlink(),this._spriteSheet=t,this.contains(this._monitor)||this.addChild(this._monitor),this.onLoadComplate(),this.addEventListener(egret.Event.ENTER_FRAME,this.runAction,this)},p.runAction=function(){if(!(egret.getTimer()-this._lastRender<this._spriteSheet.renderTime)){this._lastRender=egret.getTimer();var t=0;this._monitor.texture=this._spriteSheet.getTexture(t,this._playFrame),this._spriteSheet.uvList?(this._monitor.x=this._spriteSheet.uvList[t*this._spriteSheet.totalFrame+this._playFrame].offX,this._monitor.y=this._spriteSheet.uvList[t*this._spriteSheet.totalFrame+this._playFrame].offY):(this._monitor.x=this._spriteSheet.gX,this._monitor.y=this._spriteSheet.gY),this._playFrame++,this._playFrame>=this._spriteSheet.totalFrame&&(this._playFrame=0)}},p.setZoom=function(t){this._zoom!=t&&(this._zoom=t,this.invalidate())},p.onLoadComplate=function(){this._drager&&this.addChild(this._drager),this.invalidate(),this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))},p.draw=function(){1!=this._zoom&&(this.scaleX=this.scaleY=this._zoom),this.dispatchEvent(new egret.Event(egret.Event.CHANGE))},i}(t.D5Component);t.D5Swf=e,egret.registerClass(e,"d5power.D5Swf",["d5power.ISpriteSheetWaiter"])}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(t,i,s,h,n){void 0===t&&(t=""),void 0===i&&(i=-1),void 0===s&&(s=-1),void 0===h&&(h=-1),void 0===n&&(n=12),e.call(this),this._bgColor=-1,this._lightBorder=-1,this._darkBorder=-1,this._filterColor=-1,this._maxWidth=200,this._textField=new egret.TextField,this._textField.verticalAlign=egret.VerticalAlign.MIDDLE,this._textField.textAlign=egret.HorizontalAlign.LEFT,i>=0&&(this._textField.textColor=i),s>=0&&this.setBgColor(s),h>=0&&this.setFontBorder(h),this._textField.lineSpacing=4,this.setFontSize(n),""!=t&&this.setText(t),this.addChild(this._textField)}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.update=function(){this.setText(t.D5Component._pro_binding_source.getPro(this._binding))},p.invalidateSize=function(){this._w=0==this._maxWidth||0==this._textField.multiline?this._textField.textWidth+6:this._maxWidth,this._h=this._textField.textHeight+10,this.setWidth(this._w),this.setHeight(this._h)},p.setVerticalAlign=function(t){switch(void 0===t&&(t=0),t){case i.TOP:this._textField.verticalAlign=egret.VerticalAlign.TOP;break;case i.MIDDLE:this._textField.verticalAlign=egret.VerticalAlign.MIDDLE;break;case i.BOTTOM:this._textField.verticalAlign=egret.VerticalAlign.BOTTOM}},p.setFontBorder=function(t){void 0===t&&(t=0),0>t?this._textField.stroke=0:(this._textField.stroke=1,this._textField.strokeColor=t),this._filterColor=t},s(p,"fontBorder",function(){return this._filterColor}),p.setText=function(t){null!=this._textField&&(this._textField.text=t)},s(p,"text",function(){return this._textField.text},function(t){null!=this._textField&&(this._textField.text=t)}),s(p,"textField",function(){return this._textField}),p.setHtmlText=function(t){null!=this._textField&&(this._textField.textFlow=(new egret.HtmlTextParser).parser(t))},p.setBgColor=function(t){void 0===t&&(t=0),this._bgColor=t,this.setSize(this._w,this._h)},s(p,"bgColor",function(){return this._bgColor}),p.setLtBorder=function(t){void 0===t&&(t=0),this._lightBorder=t,this.setSize(this._w,this._h)},s(p,"ltBorder",function(){return this._lightBorder}),p.setRbBorder=function(t){void 0===t&&(t=0),this._darkBorder=t,this.setSize(this._w,this._h)},s(p,"rbBorder",function(){return this._darkBorder}),p.setIsPassword=function(t){this._textField.displayAsPassword=t},s(p,"isPassword",function(){return this._textField.displayAsPassword}),s(p,"textID",function(){return this._textID}),p.setTextID=function(t){this._textID=t},p.setWidth=function(t){this._w=t,this._textField.width=t>this._maxWidth?this._maxWidth:t,this.width=t},p.setHeight=function(t){this._h=t,this._textField.height=t,this._textField.$setHeight(t),this.height=t},p.setTextAlign=function(t){switch(t){case i.LEFT:this._textField.textAlign=egret.HorizontalAlign.LEFT;break;case i.CENTER:this._textField.textAlign=egret.HorizontalAlign.CENTER;break;case i.RIGHT:this._textField.textAlign=egret.HorizontalAlign.RIGHT}},p.setSize=function(t,e){void 0===e&&(e=0),this._w=t,this._h=e,this._textField.height=e,this._textField.width=t,this.graphics.clear(),-1!=this._bgColor&&this.graphics.beginFill(this._bgColor),-1!=this._lightBorder?(-1==this._darkBorder&&(this._darkBorder=this._lightBorder),this.graphics.lineStyle(1,this._lightBorder),this.graphics.lineTo(this._w,0),this.graphics.lineStyle(1,this._darkBorder),this.graphics.lineTo(this._w,this._h),this.graphics.lineTo(0,this._h),this.graphics.lineStyle(1,this._lightBorder),this.graphics.lineTo(0,0),this.graphics.endFill()):-1!=this._bgColor&&this.graphics.drawRect(0,0,this._w,this._h),this.graphics.endFill()},p.autoGrow=function(){null!=this._textField&&(this._w=0==this._maxWidth||0==this._textField.multiline?this._textField.textWidth+6:this._maxWidth,this._h=this._textField.textHeight+10,this.setSize(this._w,this._h))},p.setWrapFlg=function(t){void 0===t&&(t=0);var e;1==t?e=!0:0==t&&(e=!1),this._textField.multiline=e},s(p,"wrapFlg",function(){return 1==this._textField.multiline?1:0}),p.lockTo=function(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=0),this.width=t.width-2*i,e&&(this.height=t.height-2*i),this.x=t.x+i,this.y=t.y+i},p.setFontSize=function(t){void 0===t&&(t=0),this._textField.size=t},s(p,"fontSize",function(){return this._textField.size}),p.setFontBold=function(t){this._textField.bold=t},s(p,"fontBold",function(){return this._textField.bold}),p.setType=function(t){void 0===t&&(t=0),this._textField.type=1==t?egret.TextFieldType.INPUT:egret.TextFieldType.DYNAMIC},s(p,"type",function(){return this._textField.type==egret.TextFieldType.INPUT?1:0}),s(p,"textWidth",function(){return this._textField.textWidth}),s(p,"textHeight",function(){return this._textField.textHeight}),p.setTextColor=function(t){void 0===t&&(t=0),this._textField.textColor=t},s(p,"textColor",function(){return this._textField.textColor}),p.clear=function(){},i.LEFT=0,i.CENTER=1,i.RIGHT=2,i.TOP=0,i.MIDDLE=1,i.BOTTOM=2,i}(t.D5Component);t.D5Text=e,egret.registerClass(e,"d5power.D5Text",["d5power.IProBindingSupport"])}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(e,i,s,h,n){void 0===e&&(e=""),void 0===i&&(i=-1),void 0===s&&(s=-1),void 0===h&&(h=-1),void 0===n&&(n=12),t.call(this,e,i,s,h,n),this._hoverColor=0,this.touchChildren=!0,this.touchEnabled=!0}__extends(e,t);var i=__define,s=e;return p=s.prototype,i(p,"className",function(){return"D5HoverText"}),p.init=function(t){void 0===t&&(t=null),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMouse,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onMouse,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this)},p.onRemove=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMouse,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onMouse,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this)},p.setHover=function(t,e){this._hover=!0,this._hoverColor=t,this._hoverAlpha=e,this.unhover(),this.hasEventListener(egret.TouchEvent.TOUCH_BEGIN)||(this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onMouse,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onMouse,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this))},p.hover=function(){this._hover&&(this.graphics.clear(),this.graphics.beginFill(this._hoverColor,this._hoverAlpha),this.graphics.drawRect(0,0,this._textField.width,this._textField.height),this.graphics.endFill(),this._isHover=!0)},p.unhover=function(){this._hover&&(this.graphics.clear(),this.graphics.beginFill(this._hoverColor,0),this.graphics.drawRect(0,0,this._textField.width,this._textField.height),this.graphics.endFill(),this._isHover=!1)},i(p,"isHover",function(){return this._isHover}),p.onMouse=function(t){switch(t.type){case egret.TouchEvent.TOUCH_BEGIN:this.hover();break;case egret.TouchEvent.TOUCH_END:this.unhover()}},p.setData=function(t){this._data=t},i(p,"data",function(){return this._data}),e}(t.D5Text);t.D5HoverText=e,egret.registerClass(e,"d5power.D5HoverText")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this),this._realWidth=0,this._realHeight=0,this._flyX=0,this._flyY=0}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.addBinder=function(t){null==this._bindingList&&(this._bindingList=new Array),this._bindingList.push(t)},p.setup=function(){this.removeChildren(),RES.getResByUrl(this._uiSrc,this.LoadComplete,this)},p.LoadComplete=function(e){e&&t.D5Component.getComponentByURL(e,this),this.stage?this.flyPos():this.addEventListener(egret.Event.ADDED_TO_STAGE,this.flyPos,this)},p.dispose=function(){this.stage.removeEventListener(egret.Event.RESIZE,this.autoFly,this),this.parent&&this.parent.removeChild(this)},p.flyPos=function(e){void 0===e&&(e=null),null!=e&&this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.flyPos,this),t.D5Component.proBindingSource&&this._bindingList&&(t.D5Component.proBindingSource.addDisplayer(this),this.stage.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.autoDispose,this),this.update()),0!=this._flyX&&0!=this._flyY&&this.stage.addEventListener(egret.Event.RESIZE,this.autoFly,this),this.autoFly()},p.autoFly=function(t){void 0===t&&(t=null),this.x=1==this._flyX?this.stage.stageWidth-this._realWidth:.5==this._flyX?this.stage.stageWidth-this._realWidth>>1:this.stage.stageWidth*this._flyX,this.y=1==this._flyY?this.stage.stageHeight-this._realHeight:.5==this._flyY?this.stage.stageHeight-this._realHeight>>1:this.stage.stageHeight*this._flyY},p.autoDispose=function(){this.stage.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.autoDispose,this),trace("[D5UILoader] ",name," 自动释放"),t.D5Component.proBindingSource&&this._bindingList&&(t.D5Component.proBindingSource.removeDisplayer(this),this._bindingList=null),this.stage.removeEventListener(egret.Event.RESIZE,this.autoFly,this)},p.update=function(){if(this._bindingList)for(var t,e=0;e<this._bindingList.length;e++)t=this._bindingList[e],t.update()},s(p,"width",function(){return this._realWidth}),s(p,"height",function(){return this._realHeight}),i}(egret.Sprite);t.D5UILoader=e,egret.registerClass(e,"d5power.D5UILoader",["d5power.IUserInfoDisplayer","d5power.IProBindingContainer"])}(d5power||(d5power={}));var d5power;!function(t){var e=function(t){function e(){t.call(this),this._padding=5}__extends(e,t);var i=__define,s=e;return p=s.prototype,p.setEditorMode=function(){null==this._editorBG&&(this._editorBG=new egret.Shape,this._editorBG.graphics.clear(),this._editorBG.graphics.lineStyle(1,0),this._editorBG.graphics.beginFill(65280,.5),this._editorBG.graphics.drawRect(0,0,60,20),this._editorBG.graphics.endFill(),this.addChild(this._editorBG))},p.parseToXML=function(){var t="<D5VBox name='"+this.name+"' x='"+this.x+"' y='"+this.y+"'/>\n";return t},p.addChild=function(e){return t.prototype.addChild.call(this,e),e.addEventListener(egret.Event.RESIZE,this.onResize,this),this.invalidate(),e},p.removeChild=function(e){return t.prototype.removeChild.call(this,e),e.removeEventListener(egret.Event.RESIZE,this.onResize,this),this.invalidate(),e},p.removeChildAt=function(e){void 0===e&&(e=0);var i=t.prototype.removeChildAt.call(this,e);return i.removeEventListener(egret.Event.RESIZE,this.onResize,this),this.invalidate(),i},p.onResize=function(){this.invalidate()},p.draw=function(){console.info("[draw D5VBox]"),this._w=0,this._h=0;for(var t=0,e=0;e<this.numChildren;e++){var i=this.getChildAt(e);i.y=t,t+=i.height,t+=this._padding,this._h+=i.height,this._w=Math.max(this._w,i.width),console.info("[D5VBOX]"+i.x+"||"+i.y)}this._h+=this._padding*(this.numChildren-1),this.dispatchEvent(new egret.Event(egret.Event.RESIZE))},i(p,"padding",function(){return this._padding},function(t){this._padding=t,this.invalidate()}),e}(t.D5Component);t.D5VBox=e,egret.registerClass(e,"d5power.D5VBox")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this)}__extends(i,e);var s=(__define,i);return p=s.prototype,p.setSkin=function(e){if(this._nowName!=e){this._nowName=e;var i=t.D5UIResourceData.getData(e);if(null==i)return void trace("[D5Window]No Resource"+e);this.lt=new egret.Bitmap,this.lt.texture=i.getResource(0),this.t=new egret.Bitmap,this.t.texture=i.getResource(1),this.t.fillMode=egret.BitmapFillMode.REPEAT,this.rt=new egret.Bitmap,this.rt.texture=i.getResource(2),this.l=new egret.Bitmap,this.l.texture=i.getResource(3),this.l.fillMode=egret.BitmapFillMode.REPEAT,this.m=new egret.Bitmap,this.m.texture=i.getResource(4),this.m.fillMode=egret.BitmapFillMode.REPEAT,this.r=new egret.Bitmap,this.r.texture=i.getResource(5),this.lb=new egret.Bitmap,this.lb.texture=i.getResource(6),this.b=new egret.Bitmap,this.b.texture=i.getResource(7),this.b.fillMode=egret.BitmapFillMode.REPEAT,this.rb=new egret.Bitmap,this.rb.texture=i.getResource(8),this.invalidate()}},p.draw=function(){null==this.l||(this.contains(this.l)||(this.addChildAt(this.lt,0),this.addChildAt(this.t,0),this.addChildAt(this.rt,0),this.addChildAt(this.l,0),this.addChildAt(this.m,0),this.addChildAt(this.r,0),this.addChildAt(this.lb,0),this.addChildAt(this.b,0),this.addChildAt(this.rb,0)),this.m.width=this.t.width=this.b.width=this._w-this.lt.width-this.rt.width,this.m.height=this.l.height=this.r.height=this._h-this.lt.height-this.lb.height,this.t.x=this.m.x=this.b.x=this.lt.width,this.rt.x=this.r.x=this.rb.x=this.lt.width+this.t.width,this.l.y=this.m.y=this.r.y=this.lt.height,this.lb.y=this.b.y=this.rb.y=this.lt.height+this.l.height),e.prototype.draw.call(this)},i}(t.D5Component);t.D5Window=e,egret.registerClass(e,"d5power.D5Window")}(d5power||(d5power={}));var d5power;!function(t){var e=function(e){function i(){e.call(this)}__extends(i,e);var s=__define,h=i;return p=h.prototype,p.setBtnID=function(t){this._id=t},s(p,"btnID",function(){return this._id}),p.showCell=function(e,i){this.touchEnabled=!0,this.loop=new t.D5MirrorLoop,this.loop.setSkin("loop0"),this.loop.setSize(e,0),this.addChild(this.loop),this.text=new t.D5Text,this.text.setWidth(e),this.text.setFontSize(5),this.text.setTextColor(16711680),this.text.setText(i),this.addChild(this.text)},p.dispose=function(){this.text.parent&&this.text.parent.removeChild(this.text),this.text=null,this.loop.parent&&this.loop.parent.removeChild(this.loop),this.loop=null},i}(egret.Sprite);t.ListCell=e,egret.registerClass(e,"d5power.ListCell")}(d5power||(d5power={}));